<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Основы R, типы данных часть 1 :: Re9ulus Blog — A simple, retro theme for Hugo</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://re9ulus.github.io/post/2015-09-02-introduction_to_r_p1/" />


<link rel="stylesheet" href="https://re9ulus.github.io/assets/style.css">

  <link rel="stylesheet" href="https://re9ulus.github.io/assets/green.css">






<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://re9ulus.github.io/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="https://re9ulus.github.io/img/favicon/green.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Основы R, типы данных часть 1 :: Re9ulus Blog — A simple, retro theme for Hugo" />
<meta name="twitter:description" content="" />
<meta name="twitter:site" content="https://re9ulus.github.io" />
<meta name="twitter:creator" content="re9ulus" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Основы R, типы данных часть 1 :: Re9ulus Blog — A simple, retro theme for Hugo">
<meta property="og:description" content="" />
<meta property="og:url" content="https://re9ulus.github.io/post/2015-09-02-introduction_to_r_p1/" />
<meta property="og:site_name" content="Основы R, типы данных часть 1" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2015-09-02 12:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Re9ulus
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://re9ulus.github.io/post/2015-09-02-introduction_to_r_p1/">Основы R, типы данных часть 1</a></h1>
  <div class="post-meta">
      
    <span class="post-date">
      2015-09-02
    </span>
    
    
    <span class="post-author">::
      re9ulus
    </span>
    
  </div>

  

  

  <div class="post-content">
    <h1 id="--r">Язык программирования R</h1>
<p><strong>R</strong> - язык программирования и программная среда предназначенная для статистических вычислений. Получил широкое распространение в среде разработки статистического программного обеспечения, анализе данных и как средство для построения графиков.</p>
<p><code>R</code> содержит набор средств позволяющих проводить моделирование, классификацию, кластеризацию, визуализацию данных, анализ временных рядов,  машинное обучение и другие полезные вещи.</p>
<p>Язык доступен для всех современных платформ и легко расширяется за счет пакетов, которые реализуют новые модели, функции, дополнительные графические возможности и упрощают обработку массивов данных.</p>
<p>Является open-source реализацией языка <code>S</code>, разработанного в Bell Labs.</p>
<p>Недостатками <code>R</code> являются нетривиальный синтаксис, который требует привыкания и относительно медленная скорость работы.</p>
<h1 id="heading">Основы</h1>
<p><code>R</code> доступен для всех современных операционных систем, и поставляется с полноценной REPL средой.
Интерактивную консоль можно использовать для простых экспериментов, в качестве калькулятора и для чтения документации.</p>
<p>Первое что бросается в глаза: <code>R</code> в отличии от большинства языков программирования в качестве оператора присваивания использует <code>&lt;-</code> вместо <code>=</code>. На самом деле и <code>=</code> работает, разница в использовании операторов в области видимости переменной.</p>
<p>В разных style guide-ах можно найти противоположные рекомендации по использованию операторов присваивания, но в сообществе <code>R</code> разработчиков более распространен первый вариант <code>&lt;-</code>, его я и буду использовать в данном цикле статей.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e">#  Комментарии начинаются со знака слеша</span>

<span style="color:#75715e">#  Создадим нескольких переменных</span>

<span style="color:#f92672">&gt;</span> width <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">5</span>
<span style="color:#f92672">&gt;</span> height <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">4</span>

<span style="color:#75715e"># Используем для дальнейших вычислений</span>

<span style="color:#f92672">&gt;</span> square <span style="color:#f92672">&lt;-</span> width <span style="color:#f92672">*</span> height
<span style="color:#f92672">&gt;</span> perimeter <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> (height <span style="color:#f92672">+</span> width)
<span style="color:#f92672">&gt;</span> square
[1] <span style="color:#ae81ff">20</span>
<span style="color:#f92672">&gt;</span> perimeter
[1] <span style="color:#ae81ff">18</span>

<span style="color:#75715e"># Функция &#34;ls&#34; - отображает переменные в текущем окружении</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">ls</span>()
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">height&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">width&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">square&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">perimeter&#34;</span>

<span style="color:#75715e"># Функция &#34;rm&#34; - удаляет переменную из окружения</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rm</span>(perimeter)
<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">ls</span>()
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">height&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">width&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">square&#34;</span>
</code></pre></div><p>Для полноценных программ исходный код сохраняется в <code>R-скрипты</code>, файлы с расширением <code>.R</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Функция &#34;cat&#34; используется для вывода в консоль или файл</span>

<span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Compute the square of pizza:\n&#34;</span>)
pizza_radius <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">3</span>
pizza_square <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">pi</span> <span style="color:#f92672">*</span> pizza_radius ^ <span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">cat</span>(pizza_square)
</code></pre></div><p>Исполняется такой скрипт командой <code>Rscript square.R</code>. Или можно просто поставить IDE, например <a href="https://www.rstudio.com/">RStudio</a>, open-source версия которой доступна для всех платформ.</p>
<p>Получить дополнительную информацию по любой функции <code>R</code> можно используя встроенную документацию. Для этого перед именем функции нужно допечатать <code>?</code>.
В документации хранится описание функции, полный список аргументов и примеры.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> <span style="color:#f92672">?</span>sum
Sum of Vector Elements

Description
sum returns the sum of all the values present in its arguments.

Usage
<span style="color:#a6e22e">sum</span>(<span style="color:#66d9ef">...</span>, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
Arguments

<span style="color:#66d9ef">...</span>
numeric or complex or logical vectors.
na.rm   
logical. Should missing <span style="color:#a6e22e">values </span>(including <span style="color:#66d9ef">NaN</span>) be removed<span style="color:#f92672">?</span>
Details

This is a generic function<span style="color:#f92672">:</span> methods can be defined for it directly or via the Summary group generic. For this to work properly, the arguments <span style="color:#66d9ef">...</span> should be unnamed, and dispatch is on the first argument.
</code></pre></div><p>Или поискать название функции в интернете.</p>
<h2 id="logical">Logical</h2>
<p>Самым простым является логический тип данных <code>logical</code>. К нему относятся значения <code>TRUE</code> и <code>FALSE</code>, можно просто <code>T</code> и <code>F</code>. Еще <code>logical</code> соответствует значение <code>NA</code>, но сейчас это неважно.</p>
<p>Чтобы определить к какому типу относится переменная есть функция  <code>class()</code>, которая принимает переменную и возвращает ее тип.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> variable <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">FALSE</span>
<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">class</span>(variable)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">logical&#34;</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">class</span>(<span style="color:#66d9ef">TRUE</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">logical&#34;</span>
</code></pre></div><p>Для <code>logical</code> переменных определены основные логические операции.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">TRUE</span> <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#66d9ef">FALSE</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">TRUE</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">xor</span>(<span style="color:#66d9ef">TRUE</span>, <span style="color:#66d9ef">FALSE</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#f92672">!</span><span style="color:#66d9ef">TRUE</span>
[1] <span style="color:#66d9ef">FALSE</span>
</code></pre></div><h2 id="numeric">Numeric</h2>
<p>Числовой тип данных представлен <code>numeric</code> и поддерживает основные арифметические операции.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Ничего интересного</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1984</span>
[1] <span style="color:#ae81ff">1984</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2.7118</span>
[1] <span style="color:#ae81ff">2.7118</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">8.4</span>
[1] <span style="color:#ae81ff">11.4</span>

<span style="color:#75715e"># Возведение в степень</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">7</span> ^ <span style="color:#ae81ff">4</span>
[1] <span style="color:#ae81ff">2401</span>

<span style="color:#75715e"># Остаток деления, mod</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">9</span> <span style="color:#f92672">%%</span> <span style="color:#ae81ff">2</span>
[1] <span style="color:#ae81ff">1</span>

<span style="color:#75715e"># Целочисленное деление, div</span>

<span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">9</span> <span style="color:#f92672">%/%</span> <span style="color:#ae81ff">2</span>
[1] <span style="color:#ae81ff">4</span>
</code></pre></div><p>Частным случаем <code>numeric</code> является целочисленный тип <code>integer</code>. Для указания что число является <code>integer</code> к нему дописывается <code>L</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Это numeric</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">class</span>(<span style="color:#ae81ff">13</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">numeric&#34;</span>

<span style="color:#75715e"># А это integer</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">class</span>(<span style="color:#ae81ff">13L</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">integer&#34;</span>
</code></pre></div><p>Все <code>integer</code> являются <code>numeric</code>, но не все <code>numeric</code> являются <code>integer</code>.</p>
<h2 id="character">Character</h2>
<p>Для хранения строк есть <code>character</code>, тут все просто.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Hello, World!&#34;</span>
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Hello World!&#34;</span>

<span style="color:#75715e"># Конкатенация строк производится функцией &#34;paste&#34;, &#34;+&#34; не работает для строк!</span>

<span style="color:#f92672">&gt;</span> name <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">John&#34;</span>
<span style="color:#f92672">&gt;</span> surname <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Galt&#34;</span>
<span style="color:#f92672">&gt;</span> character <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(name, surname)
character
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">John Galt&#34;</span>

<span style="color:#75715e"># Печатаем строку</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Who is %s?&#34;</span>, character)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Who is John Gult?&#34;</span>

<span style="color:#75715e"># Получаем подстроку</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">substr</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Answer to the Ultimate Question of Life, the Universe, and Everything&#34;</span>, start <span style="color:#f92672">=</span> <span style="color:#ae81ff">23</span>, stop <span style="color:#f92672">=</span> <span style="color:#ae81ff">39</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74"> Question of Life&#34;</span>

<span style="color:#75715e"># Заменяем подстроку</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">sub</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">problem&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dream!&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">I have a problem&#34;</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">I have a dream!&#34;</span>
</code></pre></div><h2 id="complex">Complex</h2>
<p>Тип данных для операций с комплексными числами:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Создание комплексного числа</span>

<span style="color:#f92672">&gt;</span> z <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1i</span>
<span style="color:#f92672">&gt;</span> z
[1] <span style="color:#ae81ff">2</span><span style="color:#ae81ff">+1i</span>

<span style="color:#75715e"># Действительная часть</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">Re</span>(z)
[1] <span style="color:#ae81ff">2</span>

<span style="color:#75715e"># Мнимая часть</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">Im</span>(z)
[1] <span style="color:#ae81ff">1</span>

<span style="color:#75715e"># Модуль</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">Mod</span>(z)
[1] <span style="color:#ae81ff">2.236068</span>

<span style="color:#75715e"># Аргумент</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">Arg</span>(z)
[1] <span style="color:#ae81ff">0.4636476</span>

<span style="color:#75715e"># Сопряженное комплексное число</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">Conj</span>(z)
[1] <span style="color:#ae81ff">2</span><span style="color:#ae81ff">-1i</span>
</code></pre></div><h2 id="---">Определяем и конвертируем типы</h2>
<p>Чтобы проверить, принадлежит ли переменная к какому-либо типу можно использовать функции вида <code>is.*</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Возвращаясь к numeric и integer</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.numeric</span>(<span style="color:#ae81ff">5</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.numeric</span>(<span style="color:#ae81ff">5L</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.integer</span>(<span style="color:#ae81ff">3</span>)
[1] <span style="color:#66d9ef">FALSE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.integer</span>(<span style="color:#ae81ff">3L</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#75715e"># Другие типы</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.character</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Mew!&#34;</span>)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.logical</span>(<span style="color:#66d9ef">FALSE</span>)
[1] <span style="color:#66d9ef">TRUE</span>
</code></pre></div><p>Для конвертации типов используются функции вида <code>as.*</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># logical в numeric</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#66d9ef">TRUE</span>)
[1] <span style="color:#ae81ff">1</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#66d9ef">FALSE</span>)
[1] <span style="color:#ae81ff">0</span>

<span style="color:#75715e"># numeric в character</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.character</span>(<span style="color:#ae81ff">8</span>)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">8&#34;</span>

<span style="color:#75715e"># character в numeric</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">4.2&#34;</span>)
[1] <span style="color:#ae81ff">4.2</span>

<span style="color:#75715e"># character в integer</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.integer</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">4.2&#34;</span>)
[1] <span style="color:#ae81ff">4</span>

<span style="color:#75715e"># а так делать нельзя</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">This is not a number!&#34;</span>)
[1] <span style="color:#66d9ef">NA</span>
Warning message<span style="color:#f92672">:</span>
NAs introduced by coercion
</code></pre></div><h1 id="heading-1">Векторы</h1>
<p>Вектор в <code>R</code> это набор элементов одного типа.
Создаются векторы функцией <code>c()</code>, сокращение от <em>combine</em>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Вектор чисел</span>

<span style="color:#f92672">&gt;</span> remain <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">8</span>)
<span style="color:#f92672">&gt;</span> remain
[1] <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">11</span> <span style="color:#ae81ff">13</span> <span style="color:#ae81ff">8</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.vector</span>(remain)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#75715e"># Вектор строк</span>

<span style="color:#f92672">&gt;</span> suits <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">spades&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hearts&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">diamonds&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">clubs&#34;</span>)
<span style="color:#f92672">&gt;</span> suits
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">spades&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hearts&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">diamonds&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">clubs&#34;</span>   

<span style="color:#75715e"># Длина вектора получается функцией `length()`</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(remain)
[1] <span style="color:#ae81ff">4</span>

<span style="color:#75715e"># Сумма элементов функцией `sum()`</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">sum</span>(remain)
[1] <span style="color:#ae81ff">42</span>
</code></pre></div><p>Каждому элементу вектора может быть присвоено имя. Сделать это можно несколькими способами:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># С помощью функции names()</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">names</span>(remain) <span style="color:#f92672">&lt;-</span> suits
<span style="color:#f92672">&gt;</span> remain
spades hearts diamonds clubs
    <span style="color:#ae81ff">10</span>     <span style="color:#ae81ff">11</span>       <span style="color:#ae81ff">13</span>     <span style="color:#ae81ff">8</span>

<span style="color:#75715e"># Во время создания объекта</span>

remain <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">spades&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hearts&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">diamonds&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">clubs&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>)

<span style="color:#75715e"># Имена можно не заключать в кавычки</span>

remain <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(spades <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, hearts <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>, diamonds <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>, clubs <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>)
</code></pre></div><p>На самом деле, все базовые типы <code>R</code> являются векторами из 1 элемента.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> day_number <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
<span style="color:#f92672">&gt;</span> day_title <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Monday&#34;</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.vector</span>(day_number)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">is.vector</span>(day_title)
[1] <span style="color:#66d9ef">TRUE</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(day_number)
[1] <span style="color:#ae81ff">1</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">length</span>(day_title)
[1] <span style="color:#ae81ff">1</span>
</code></pre></div><p>При попытке создать вектор, содержащий элементы нескольких типов, все элементы будут приведены к наиболее общему типу.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Все numeric будут конвертированы в character</span>

<span style="color:#f92672">&gt;</span> marks <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">A&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">F&#34;</span>)
<span style="color:#f92672">&gt;</span> marks
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">4&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">5&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">A&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">F&#34;</span>

<span style="color:#f92672">&gt;</span><span style="color:#a6e22e">class</span>(manks)
[1] <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">character&#34;</span>
</code></pre></div><h2 id="--">Вычисления с векторами</h2>
<p>Операции над векторами выполняются <em>поэлементно</em>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">30</span>)
<span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>
[1] <span style="color:#ae81ff">30</span> <span style="color:#ae81ff">60</span> <span style="color:#ae81ff">90</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">sqrt</span>(earnings)
[1] <span style="color:#ae81ff">3.162278</span> <span style="color:#ae81ff">4.472136</span> <span style="color:#ae81ff">5.477226</span>

<span style="color:#75715e"># Операции над несколькими векторами так же выполняются поэлементно</span>

<span style="color:#f92672">&gt;</span> expenses <span style="color:#f92672">&lt;-</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">40</span>)
<span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">-</span> expenses
[1] <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">-10</span>

<span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">*</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
[1] <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">40</span> <span style="color:#ae81ff">90</span>

<span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">/</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
[1] <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>

<span style="color:#75715e"># Каждый элемент вектора можно проверить на соответсиве условию и получить вектор logic значений</span>

<span style="color:#f92672">&gt;</span> earnings <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">15</span>
[1] <span style="color:#66d9ef">FALSE</span> <span style="color:#66d9ef">TRUE</span> <span style="color:#66d9ef">TRUE</span>
</code></pre></div><h2 id="----1">Элементы вектора, подмножества векторов</h2>
<p>Обращение к элементам вектора происходит по индексу или имени, заключенному в квадратные скобки <code>[]</code>. Об плохом: <em><strong>индексация в R начинается с 1.</strong></em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> remain <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(spades <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, hearts <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>, diamonds <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>, clubs <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>)
<span style="color:#f92672">&gt;</span>
<span style="color:#75715e"># По индексу</span>

<span style="color:#f92672">&gt;</span> remain[1]
spades
    <span style="color:#ae81ff">10</span>

<span style="color:#75715e"># По имени</span>

<span style="color:#f92672">&gt;</span> remain[<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hearts&#34;</span>]
hearts
    <span style="color:#ae81ff">11</span>
</code></pre></div><p>Можно получить несколько элементов вектора, используя числовой вектор или вектор строк.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">
<span style="color:#75715e"># По индесам</span>

<span style="color:#f92672">&gt;</span> remain<span style="color:#a6e22e">[c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>)]
spades clubs
    <span style="color:#ae81ff">10</span>     <span style="color:#ae81ff">8</span>

<span style="color:#75715e"># По именам</span>

<span style="color:#f92672">&gt;</span> remain<span style="color:#a6e22e">[c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">diamonds&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hearts&#34;</span>)]
diamonds hearts
      <span style="color:#ae81ff">13</span>     <span style="color:#ae81ff">11</span>     
</code></pre></div><p>Если поставить перед индексом элемента знак минус <code>-</code>, этот элемент будет исключен из вектора. Удалять элементы по именам нельзя, только по индексам.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">
<span style="color:#75715e"># Новый вектор, содержащий все элементы remain кроме третьего</span>

<span style="color:#f92672">&gt;</span> new_remain <span style="color:#f92672">&lt;</span> remain[<span style="color:#ae81ff">-3</span>]
<span style="color:#f92672">&gt;</span> new_remain
spades hearts clubs
    <span style="color:#ae81ff">10</span>     <span style="color:#ae81ff">11</span>     <span style="color:#ae81ff">8</span>

<span style="color:#75715e"># Можно исключить сразу несколько элементов</span>

<span style="color:#f92672">&gt;</span> remain[<span style="color:#f92672">-</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>)]
hearts clubs
    <span style="color:#ae81ff">11</span>     <span style="color:#ae81ff">8</span>
</code></pre></div><p>Подмножество элементов можно получить передав вектор <code>logic</code> значений. Будут выбраны элементы индексам которых соответствует значение <code>TRUE</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">
<span style="color:#75715e"># Выбираем второй и четвертый элементы</span>

<span style="color:#f92672">&gt;</span> remain<span style="color:#a6e22e">[c</span>(<span style="color:#66d9ef">FALSE</span>, <span style="color:#66d9ef">TRUE</span>, <span style="color:#66d9ef">FALSE</span>, <span style="color:#66d9ef">TRUE</span>)]
hearts clubs
    <span style="color:#ae81ff">11</span>     <span style="color:#ae81ff">8</span>

<span style="color:#75715e"># Если элементов в передаваемом векторе недостаточно, вектор будет зациклен до нужной длины</span>

<span style="color:#f92672">&gt;</span> remain<span style="color:#a6e22e">[c</span>(<span style="color:#66d9ef">FALSE</span>, <span style="color:#66d9ef">TRUE</span>)]
hearts clubs
    <span style="color:#ae81ff">11</span>     <span style="color:#ae81ff">8</span>

<span style="color:#75715e"># Выбираем нечетные элементы</span>

<span style="color:#f92672">&gt;</span>remain[remain <span style="color:#f92672">%%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>]
hearts diamonds
    <span style="color:#ae81ff">11</span>       <span style="color:#ae81ff">13</span>
</code></pre></div><h1 id="heading-2">Матрицы</h1>
<p>Матрица расширяет понятие вектора. Это тот же самый вектор, который может содержать элементы только одного типа, но теперь двумерный.
Создается матрица функцией <code>matrix()</code>, с указанием количества строк или столбцов.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">
<span style="color:#75715e"># Матрица содержащая элементы от 1 до 6 в две строки</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">5</span>
[2,]    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">6</span>

<span style="color:#75715e"># В два столбца</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">4</span>
[2,]    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">5</span>
[3,]    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">6</span>

<span style="color:#75715e"># По умолчанию матрица заполняется по столбцам, для заполнения по строкам нужен параметр &#34;byrow&#34;</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">11</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>] [,<span style="color:#ae81ff">4</span>]
[1,]    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">7</span>
[2,]    <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">9</span>   <span style="color:#ae81ff">10</span>   <span style="color:#ae81ff">11</span>

<span style="color:#75715e"># Если элементов недостаточно для заполнения всех строк и столбцов они будут циклически повторяться</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>] [,<span style="color:#ae81ff">4</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">1</span>
[2,]    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>
[3,]    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>
</code></pre></div><p>Второй способ создания матрицы состоит в комбинировании векторов по строкам или по столбцам, функциями <code>rbind</code> и <code>cbind</code> соответственно.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rbind</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>
[2,]    <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">9</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">cbind</span>(<span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>]
[1,]    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">1</span>
[2,]    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">2</span>
[3,]    <span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">3</span>
</code></pre></div><p>Используя <code>rbind</code> и <code>cbind</code> можно добавить строку или столбец к уже существующей матрице.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> m <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
<span style="color:#f92672">&gt;</span> m
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>
[2,]    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rbind</span>(m, <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>
[2,]    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>
[3,]    <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">9</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">cbind</span>(m, <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">11</span>))
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>] [,<span style="color:#ae81ff">4</span>]
[1,]    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>   <span style="color:#ae81ff">10</span>
[2,]    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>   <span style="color:#ae81ff">11</span>
</code></pre></div><p>Для присвоения имен строкам и столбцам матрицы есть функции <code>rownames</code> и <code>colnames</code>. Строки и столбцы могут быть проименованы и в момент создания матрицы параметром <code>dimnames</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> m <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
<span style="color:#f92672">&gt;</span>
<span style="color:#75715e"># Называем стоки</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rownames</span>(m) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row2&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row3&#34;</span>)
<span style="color:#f92672">&gt;</span>
<span style="color:#75715e"># Называем столбцы</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">colnames</span>(m) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col2&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col3&#34;</span>)
<span style="color:#f92672">&gt;</span> m
     col1 col2 col3
row1    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">3</span>
row2    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>
row3    <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">9</span>

<span style="color:#75715e"># При создания матрицы</span>

<span style="color:#f92672">&gt;</span> m <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>,
                dimnames <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row2&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row3&#34;</span>),
                                <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col2&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col3&#34;</span>)))
</code></pre></div><p>Как и векторы, матрицы хранят элементы только одного типа. При попытке сохранить в одной матрице элементы нескольких типов, или соединить матрицы разных типов используя <code>rbind</code> и <code>cbind</code> все элементы будут приведены к наиболее общему типу.</p>
<h2 id="----2">Элементы матрицы, подмножества матриц</h2>
<p>Для выбора элементов матрицы используются те же техники что и для векторов, с поправкой на двумерность матрицы.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Выбираем элемент из первой строки, третьего столбца</span>

<span style="color:#f92672">&gt;</span> m[1, <span style="color:#ae81ff">3</span>]
[1] <span style="color:#ae81ff">3</span>
</code></pre></div><p>Если не указан один из индексов, будет получена целая строка или столбец.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Выбираем вторую строку</span>

<span style="color:#f92672">&gt;</span> m[2, ]
col1 col2 col3
   <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>

<span style="color:#75715e"># Выбираем третий столбец</span>

<span style="color:#f92672">&gt;</span> m[, <span style="color:#ae81ff">3</span>]
row1 row2 row3
   <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">9</span>
</code></pre></div><p>Можно выбирать сразу несколько элементов. Принципы те же, что и с векторами.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Элементы на пересечении второй строки, первого и третьего столбца</span>

<span style="color:#f92672">&gt;</span> m[2, <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>)]
col1 col3
   <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">6</span>

<span style="color:#75715e"># Подматрица, состоящая из элементов на пересечении 1, 3 строк и 1, 3 столбцов</span>

<span style="color:#f92672">&gt;</span> m<span style="color:#a6e22e">[c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>), <span style="color:#a6e22e">c </span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>)]
     col1 col3
row1    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">3</span>
row3    <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">9</span>
</code></pre></div><p>Элементы можно выбрать используя имена строк и столбцов.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#f92672">&gt;</span> m<span style="color:#a6e22e">[c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">row3&#34;</span>), <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col1&#34;</span>]
row1 row3
   <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">7</span>

<span style="color:#75715e"># Индексы и имена можно использовать вместе</span>

<span style="color:#f92672">&gt;</span> m[2, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col2&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col3&#34;</span>)]
col2 col3
   <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>
</code></pre></div><h2 id="-">Использование матриц</h2>
<p>Матрицы поддерживают все стандартные арифметические операции. Выполняются операции над матрицами поэлементно, включая умножение и деление.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e"># Переменная будет добавлена к каждому элементу</span>

<span style="color:#f92672">&gt;</span> m <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>
     col1 col2 col3
row1    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">6</span>
row2    <span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">9</span>
row3   <span style="color:#ae81ff">10</span>   <span style="color:#ae81ff">11</span>   <span style="color:#ae81ff">12</span>

<span style="color:#75715e"># Функция применяется к каждом элементу</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">log</span>(m)
         col1      col2     col3
row1 <span style="color:#ae81ff">0.000000</span> <span style="color:#ae81ff">0.6931472</span> <span style="color:#ae81ff">1.098612</span>
row2 <span style="color:#ae81ff">1.386294</span> <span style="color:#ae81ff">1.6094379</span> <span style="color:#ae81ff">1.791759</span>
row3 <span style="color:#ae81ff">1.945910</span> <span style="color:#ae81ff">2.0794415</span> <span style="color:#ae81ff">2.197225</span>

<span style="color:#75715e"># &#34;rowSums&#34; возвращает сумму элементов каждой строки</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">rowSums</span>(m)
row1 row2 row3
   <span style="color:#ae81ff">6</span>   <span style="color:#ae81ff">15</span>   <span style="color:#ae81ff">24</span>

<span style="color:#75715e"># &#34;colSums&#34; возвращает сумму элементов каждого столбца</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">colSums</span>(m)
col1 col2 col3
  <span style="color:#ae81ff">12</span>   <span style="color:#ae81ff">15</span>   <span style="color:#ae81ff">18</span>

<span style="color:#75715e"># Транспонирование матриц осуществляется функцией &#34;t()&#34;</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">t</span>(m)
     row1 row2 row3
col1    <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">7</span>
col2    <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">8</span>
col3    <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">9</span>

<span style="color:#75715e"># Для математической операции перемножения матриц необходимо использовать оператор %*%</span>

<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">%*%</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">12</span>, ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>)
     [,<span style="color:#ae81ff">1</span>] [,<span style="color:#ae81ff">2</span>] [,<span style="color:#ae81ff">3</span>]
[1,]   <span style="color:#ae81ff">39</span>   <span style="color:#ae81ff">49</span>   <span style="color:#ae81ff">59</span>
[2,]   <span style="color:#ae81ff">54</span>   <span style="color:#ae81ff">68</span>   <span style="color:#ae81ff">82</span>
[3,]   <span style="color:#ae81ff">69</span>   <span style="color:#ae81ff">87</span>  <span style="color:#ae81ff">105</span>
</code></pre></div><p>Получилось достаточно объемно, поэтому о списках, datafram-ах, работе с файлами и графикой я напишу в следующих частях.</p>
  </div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span
        class="pagination__title-h">Read other posts</span>
      <hr />
    </div>
    <div class="pagination__buttons">
      
      <span class="button previous">
        <a href="https://re9ulus.github.io/post/2015-10-28-logistic_regression_in_r/">
          <span class="button__icon">←</span>
          <span class="button__text">Логистическая регрессия в R</span>
        </a>
      </span>
      
      
      <span class="button next">
        <a href="https://re9ulus.github.io/post/2015-04-05-hacking-easy-ciphers/">
          <span class="button__text">Взлом простых шифров</span>
          <span class="button__icon">→</span>
        </a>
      </span>
      
    </div>
  </div>
  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://re9ulus.github.io/assets/main.js"></script>
<script src="https://re9ulus.github.io/assets/prism.js"></script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
			delimiters: [
  				{left: "$$", right: "$$", display: true},
  				{left: "\\(", right: "\\)", display: false},
  				{left: "\\[", right: "\\]", display: true},
  				{left: "$", right: "$", display: false},
			]
        });
    });
</script>



<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(29515615, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/29515615" style="position:absolute; left:-9999px;" alt="" /></div></noscript>



  
</div>

</body>
</html>
